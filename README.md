# VBTest - æ™ºèƒ½åŒ–è‹±è¯­è¯æ±‡é‡è‡ªé€‚åº”æµ‹è¯•ç³»ç»Ÿ

VBTest æ˜¯ä¸€æ¬¾åŸºäº **IRT (Item Response Theory, é¡¹ç›®ååº”ç†è®º)** çš„æ™ºèƒ½åŒ–è‹±è¯­è¯æ±‡é‡è¯„ä¼°ç³»ç»Ÿã€‚å®ƒèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„ç­”é¢˜è¡¨ç°å®æ—¶è°ƒæ•´é¢˜ç›®éš¾åº¦ï¼Œé€šè¿‡æå°‘é‡çš„é¢˜ç›®é‡‡é›†ï¼ˆé€šå¸¸ 20-50 é¢˜ï¼‰ç²¾å‡†è¯„ä¼°ç”¨æˆ·çš„è¯æ±‡é‡å‚¨å¤‡ï¼Œå¹¶ç”Ÿæˆæ·±åº¦å®šåˆ¶çš„ HTML è¯Šæ–­æŠ¥å‘Šã€‚

## ğŸš€ æŠ€æœ¯äº®ç‚¹

### 1. æ ¸å¿ƒç®—æ³•ï¼šè‡ªé€‚åº”éš¾åº¦è°ƒæ•´
ç³»ç»Ÿå†…ç½® IRT ç®—æ³•æ¨¡å‹ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š
- **å®æ—¶èƒ½åŠ›ä¼°ç®—**ï¼šæ¯ç­”å¯¹æˆ–ç­”é”™ä¸€é¢˜ï¼Œç³»ç»Ÿéƒ½ä¼šæ ¹æ®é¢˜ç›®éš¾åº¦æƒé‡å®æ—¶æ›´æ–°ç”¨æˆ·çš„â€œèƒ½åŠ›å€¼ï¼ˆThetaï¼‰â€ã€‚
- **æœ€ä¼˜é¢˜ç›®é€‰æ‹©**ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨ä» 8000+ è¯åº“ä¸­é€‰å–ä¸å½“å‰èƒ½åŠ›å€¼æœ€åŒ¹é…çš„å•è¯ï¼Œç¡®ä¿æµ‹è¯•æ•ˆç‡æœ€å¤§åŒ–ã€‚
- **é˜²æ­¢è’™é¢˜æœºåˆ¶**ï¼šæ”¯æŒâ€œä»¥ä¸Šéƒ½ä¸å¯¹â€å’Œâ€œæˆ‘ä¸ä¼šâ€é€‰é¡¹ï¼Œå¹¶å¯æ ¹æ®ç­”é¢˜æ­£ç¡®ç‡å¼€å¯èƒ½åŠ›å€¼æƒ©ç½šã€‚

### 2. ç°ä»£åŒ–çš„æŠ¥å‘Šå¼•æ“
`ReportGenerator` é‡‡ç”¨äº†é«˜åº¦è§£è€¦çš„è®¾è®¡ï¼š
- **è§†è§‰ç¾å­¦**ï¼šåŸºäº Tailwind CSS æ„å»ºï¼Œé‡‡ç”¨ Emerald Greenï¼ˆç¿¡ç¿ ç»¿ï¼‰ä½œä¸ºå“ç‰Œè‰²ï¼Œæ­é… High-contrast Orangeï¼ˆæ©™è‰²ï¼‰ä½œä¸ºé‡ç‚¹å¼ºè°ƒè‰²ã€‚
- **æ¶æ„è§£è€¦**ï¼šç”Ÿæˆé€»è¾‘ä¸æ–‡ä»¶ IO åˆ†ç¦»ï¼Œæ—¢æ”¯æŒç”Ÿæˆç‰©ç† `.html` æ–‡ä»¶ï¼Œä¹Ÿæ”¯æŒç›´æ¥è¿”å› HTML æºç å­—ç¬¦ä¸²ä¾›å¤–éƒ¨é›†æˆï¼ˆå¦‚ Web æœåŠ¡ï¼‰ã€‚

### 3. å¯æ‰©å±•çš„é¢†åŸŸæ¨¡å‹
ä»£ç éµå¾ªé¢†åŸŸé©±åŠ¨è®¾è®¡ï¼ˆDDDï¼‰ç†å¿µï¼š
- **Domain å±‚**ï¼šå°è£…äº† IRT æ ¸å¿ƒç®—æ³•ã€è¯åº“ç®¡ç†åŠæµ‹è¯•æ¨¡å‹ã€‚
- **Application å±‚**ï¼šæä¾›äº† `TestService` ç»Ÿä¸€å…¥å£ï¼Œç®€åŒ–è°ƒç”¨é€»è¾‘ã€‚

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
src/main/java/
â”œâ”€â”€ application/             # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ ReportGenerator.java # è¯Šæ–­æŠ¥å‘Šç”Ÿæˆå¼•æ“ï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ TestService.java    # å¯¹å¤–ç»Ÿä¸€æœåŠ¡æ¥å£
â”‚   â””â”€â”€ TestManager.java    # æµ‹è¯•æµç¨‹ç®¡ç†
â”œâ”€â”€ domain/                  # é¢†åŸŸå±‚
â”‚   â”œâ”€â”€ algorithm/          # IRT ç®—æ³•å®ç°
â”‚   â”œâ”€â”€ model/              # æ ¸å¿ƒå¯¹è±¡æ¨¡å‹ (User, Question, TestResult)
â”‚   â””â”€â”€ WordBank.java       # è¯åº“åŠ è½½ä¸ç®¡ç†
â””â”€â”€ Main.java                # æ§åˆ¶å°äº¤äº’å…¥å£
```

---

## ğŸ›  ä½¿ç”¨æ–¹æ³•

### 1. ç¼–è¯‘ä¸è¿è¡Œ
é¡¹ç›®é‡‡ç”¨ Gradle æ„å»ºï¼Œæ¨èä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ï¼š

```bash
# ç¼–è¯‘å¹¶è¿è¡Œæ§åˆ¶å°äº¤äº’ç¨‹åº
./gradlew build
java -cp build/classes/java/main Main
```

### 2. åˆ†æ­¥æµ‹è¯•æµç¨‹
1. **å½•å…¥ä¿¡æ¯**ï¼šè¾“å…¥å­¦ç”Ÿå§“åã€‚
2. **åˆå§‹èƒ½åŠ›è®¾ç½®**ï¼šæ ¹æ®å­¦ç”Ÿå­¦æ®µï¼ˆå°å­¦/åˆä¸­/é«˜ä¸­/å¤§å­¦ï¼‰è®¾ç½® 0.0 - 7.5 çš„åˆå§‹èƒ½åŠ›å€¼ï¼ŒåŠ é€Ÿç®—æ³•æ”¶æ•›ã€‚
3. **äº¤äº’ç­”é¢˜**ï¼šç³»ç»Ÿé€é¢˜æ¨é€å•è¯ï¼Œæ”¯æŒ 1-7 æ•°å­—é”®é€‰æ‹©é€‰é¡¹ã€‚
4. **ç»“æœè¾“å‡º**ï¼šæµ‹è¯•å®Œæˆåï¼Œæ§åˆ¶å°æ˜¾ç¤ºæ€»ç»“æœï¼Œå¹¶è‡ªåŠ¨åœ¨ `report/` æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„ HTML æŠ¥å‘Šã€‚

---

## ğŸ”— å¤–éƒ¨é›†æˆæŒ‡å— (External Integration Guide)

VBTest é‡‡ç”¨äº†åˆ†å±‚æ¶æ„ï¼Œä½¿å¾—å¤–éƒ¨ç³»ç»Ÿï¼ˆå¦‚ Web åç«¯ã€ç§»åŠ¨ç«¯ API æˆ–æ¡Œé¢ Appï¼‰å¯ä»¥è½»æ¾é›†æˆæ ¸å¿ƒæµ‹è¯•å¼•æ“ã€‚

### 1. æ ¸å¿ƒç”Ÿå‘½å‘¨æœŸ (Testing Lifecycle)

é›†æˆ VBTest æ—¶ï¼Œé€šå¸¸éµå¾ªä»¥ä¸‹ç”Ÿå‘½å‘¨æœŸï¼š

```mermaid
graph LR
    Init[åˆå§‹åŒ– WordBank] --> Start[åˆ›å»º TestService]
    Start --> User[é…ç½® UserModel]
    User --> Loop[ç­”é¢˜å¾ªç¯]
    Loop --> Finish[ç»“æŸå¹¶è·å– TestResult]
    Finish --> Report[ç”Ÿæˆ HTML æºç /æ–‡ä»¶]
```

### 2. åˆå§‹åŒ–æ ¸å¿ƒç»„ä»¶
é¦–å…ˆéœ€è¦åŠ è½½è¯åº“å¹¶åˆå§‹åŒ–æœåŠ¡å…¥å£ï¼š

```java
// 1. åŠ è½½è¯åº“ (æ¨èå•ä¾‹åŒ–ï¼Œå› ä¸ºè¯åº“æ–‡ä»¶è¾ƒå¤§)
WordBank wordBank = new WordBank("data/your_word_bank.csv");

// 2. é€‰æ‹©è‡ªé€‚åº”ç®—æ³•å¹¶åˆå§‹åŒ– TestService
IRTAlgorithm algorithm = new IRTAlgorithm(wordBank);
TestManager manager = new TestManager(algorithm, wordBank);
TestService service = new TestService(manager);
```

### 3. é…ç½®æµ‹è¯•ç”¨æˆ·
å¤–éƒ¨ç³»ç»Ÿå¯ä»¥é€šè¿‡ `UserModel` ä¼ é€’ç°æœ‰çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæˆ–è®¾ç½®åˆå§‹èƒ½åŠ›å»ºè®®ï¼š

```java
UserModel user = new UserModel("db_id_1001", "æå");

// [å¯é€‰] è®¾ç½®åˆå§‹èƒ½åŠ› (0.0-7.5)ã€‚å¦‚æœå·²æœ‰ç”¨æˆ·çš„å­¦æ®µä¿¡æ¯ï¼Œå»ºè®®è®¾ç½®ä»¥åŠ å¿«æ”¶æ•›é€Ÿåº¦ã€‚
// 3.0 â‰ˆ åˆä¸­æ°´å¹³, 5.0 â‰ˆ é«˜ä¸­æ°´å¹³
user.setAbilityEstimate(3.0); 
user.setInitialAbility(3.0);
user.setCustomInitialAbility(true); // è®¾ç½®ä¸º true æŠ¥å‘Šä¸­ä¼šæ˜¾ç¤ºåˆå§‹å€¼

service.initiateTest(user);
```

### 4. é©±åŠ¨ç­”é¢˜å¾ªç¯
åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ `TestService` æŒç»­è·å–é¢˜ç›®å¹¶æ¨é€ç­”æ¡ˆï¼š

```java
while (!service.isTestFinished()) {
    // è·å–ä¸‹ä¸€é¢˜ï¼ˆåŒ…å«å•è¯ã€é€‰é¡¹ã€éš¾åº¦ç­‰ä¿¡æ¯ï¼‰
    Question question = service.provideNextQuestion();
    
    // ... åœ¨ UI å±•ç¤ºç»™ç”¨æˆ·å¹¶è·å–ç”¨æˆ·é€‰å®šçš„ç´¢å¼• userAnswerIndex ...
    
    // æäº¤ç­”æ¡ˆï¼Œå†…éƒ¨ä¼šæ ¹æ® IRT ç®—æ³•è‡ªåŠ¨è°ƒæ•´èƒ½åŠ›è¯„ä¼°
    boolean isCorrect = question.isCorrect(userAnswerIndex);
    service.processAnswer(question, isCorrect);
    
    // [å¯é€‰] è·å–å®æ—¶ç»Ÿè®¡ç”¨äºè¿›åº¦æ¡æˆ–å®æ—¶çœ‹æ¿
    String stats = service.getRealTimeStats();
}
```

### 5. å¤„ç†æµ‹è¯•ç»“æœä¸æŠ¥å‘Š
æµ‹è¯•ç»“æŸåï¼Œæœ€é‡è¦çš„æ­¥éª¤æ˜¯è·å– `TestResult` å¹¶åˆ©ç”¨ `ReportGenerator` ç”Ÿæˆå¯è§†åŒ–å†…å®¹ï¼š

```java
// 1. ç»“æŸæµ‹è¯•å¹¶è·å–æ±‡æ€»ç»“æœ
TestResult result = service.concludeTest();

// 2. [Web åœºæ™¯] ç›´æ¥è·å– HTML å­—ç¬¦ä¸²ç”¨äºå‰ç«¯æ¸²æŸ“æˆ–é‚®ä»¶æ¨é€
// è¯¥æ–¹æ³•å…¨å†…å­˜è®¡ç®—ï¼Œä¸æ¶‰åŠç£ç›˜ IOã€‚
String htmlSource = ReportGenerator.buildHtml(result);

// 3. [ç¦»çº¿åœºæ™¯] å°†æŠ¥å‘ŠæŒä¹…åŒ–ä¸ºç‰©ç†æ–‡ä»¶
ReportGenerator.generateReport(result, "reports/my_report.html");
```

---

## ğŸ“Š æŠ¥å‘Šç‰¹æ€§
- **å“ç‰Œè®¾è®¡**ï¼šæ— é¡¶éƒ¨ç²—è¾¹æ¡†çš„æç®€å¡ç‰‡å¼è®¾è®¡ã€‚
- **å¤šç»´åˆ†æ**ï¼šåŒ…å«é¢„ä¼°è¯æ±‡é‡ã€èƒ½åŠ›æ®µä½ï¼ˆå°å­¦è‡³å¤§å­¦+ï¼‰ã€é”™é¢˜æ·±åº¦è§£æã€‚
- **ç»Ÿè®¡ä¿¡æ¯**ï¼šè‡ªåŠ¨ç»Ÿè®¡æ€»é¢˜æ•°ã€é”™è¯¯æ•°åŠå®æ—¶æ­£ç¡®ç‡ã€‚
- **æ–‡ä»¶åè§„èŒƒ**ï¼šå»ºè®®çš„å‘½åè§„èŒƒä¸º `vocabulary_report_{ç”¨æˆ·å}_{æ—¶é—´æˆ³}.html`ã€‚

---

## ğŸ“ è¯åº“é…ç½®
è¯åº“æ–‡ä»¶ä½äºæ ¹ç›®å½•ï¼ˆå¦‚ `test_v9.6.csv`ï¼‰ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
`ID, è‹±æ–‡å•è¯, ä¸­æ–‡å«ä¹‰, éš¾åº¦ç­‰çº§(1.0-7.5)`

---

*Â© 2026 å®¶åº­CEO ä¼´å­¦*
